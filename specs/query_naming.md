# Query Naming Specification

This document defines the naming conventions for SQL queries and the corresponding
Go wrappers generated by `sqlc`.

## Role prefixes

All query names must begin with a prefix indicating the required role:

- `System` – internal operations run without a user context.
- `Admin` – administrative operations; must not require a user id.
- `List`/`Get` – user facing operations. User commands include the
  required role using a `For<Role>` suffix (for example `ForLister`,
  `ForWriter`). Parameter names should mirror the role and use the
  `<Role>ID` form (e.g. `ListerID`, `WriterID`).

## Lists

Queries returning multiple rows must start with the `List` prefix and
support pagination (`LIMIT`/`OFFSET`). User and admin lists must respect
language preferences and, where applicable, enforce permissions within
the SQL itself. Admin and system queries must never require a user id.

## Grants

User queries should check grants both in SQL and in Go code to ensure
authz rules are enforced.

These rules are verified by tests and should be followed for all new
queries.
