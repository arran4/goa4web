<!DOCTYPE html>
<html>
<head>
    <title>Quote Test</title>
    <script src="quote.js"></script>
    <script>
        // Mock fetch and other things
        window.fetchCalls = [];
        window.fetch = function(url) {
            window.fetchCalls.push(url);
            return Promise.resolve({
                json: () => Promise.resolve({ text: "> Quoted text\n" })
            });
        };
        // Mock document elements needed by quote.js
        document.addEventListener('DOMContentLoaded', function() {
            // quote.js expects an element with id="reply"
            if (!document.getElementById('reply')) {
                const reply = document.createElement('textarea');
                reply.id = 'reply';
                document.body.appendChild(reply);
            }
        });
    </script>
</head>
<body>
    <div class="comment">
        <!-- Replicating the HTML structure from comment.gohtml -->
        <!-- Note: we use hardcoded IDs for the test -->
        [<a href="#" class="quote-link" data-quote-type="full" data-comment-id="123">FULL REPLY</a>]
        [<a href="#" class="quote-link" data-quote-type="paragraph" data-comment-id="123">PARAGRAPH REPLY</a>]
        [<a href="#" class="quote-link" data-quote-type="selected" data-comment-id="123">QUOTE SELECTED</a>]
    </div>
    <br><br>
    <textarea id="reply" rows="10" cols="50"></textarea>
</body>
</html>
